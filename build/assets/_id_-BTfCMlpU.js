import{_ as P}from"./BasePageHeading.vue_vue_type_script_setup_true_lang-D3hGS5P4.js";import{J as U,d as R,N as z,s as C,H as j,k as Q,m as W,a as i,o as d,F as M,b as t,e as f,h as x,V as T,i as h,w as S,n as X,af as Y,g as _,t as a,al as w,_ as q,q as J}from"./index-djH96c7W.js";import{u as G}from"./use_operator_actions-DfzruNlO.js";import{u as F,O as K}from"./use_operator_salary_ action-KJsmK9Ap.js";import{b as O}from"./route-block-B_A1xBdJ.js";import"./api_route-BfCuro4K.js";import"./machines-DgIDqdM-.js";function A(m){const o=new Date(m),n=o.getFullYear().toString(),p=o.toLocaleString("fr-FR",{month:"long"});return{month:p.charAt(0).toUpperCase()+p.slice(1),year:n}}const Z=()=>{const m={table:"table table-striped table-vcenter table-",responsiveWrapper:"table-responsive"},o={primary:"badge badge- bg-primary-light",success:"badge badge- bg-success-light",danger:"badge badge- bg-danger-light",warning:"badge badge- bg-warning-light"},n={group:"btn-group btn-group-",edit:"btn btn-sm btn-alt-secondary",delete:"btn btn-sm btn-alt-secondary text-error"},p={wrapper:"info-column-",name:"info-name",detail:"info-detail",badge:"info-badge"},b={email:"fa fa-envelope icon-",phone:"fa fa-phone icon-",building:"fa fa-building icon-",calendar:"fa fa-calendar icon-",edit:"fa fa-fw fa-pencil-alt",delete:"fa fa-fw fa-times",refresh:"ri-refresh-line",add:"ri-add-circle-fill",loading:"fa fa-fw fa-spinner fa-spin loading-",empty:"fa fa-fw fa-exclamation-triangle text-warning loading-"},g={empty:{icon:b.empty,message:"Aucun élément trouvé."},loading:{icon:b.loading,message:"Chargement en cours..."}};return{tableClasses:m,badgeClasses:o,buttonClasses:n,infoColumnClasses:p,icons:b,loadingStates:g,createHeaders:r=>r.map(c=>({label:c.label,style:{width:c.width||"auto",textAlign:c.align||"left",color:"white !important",fontWeight:"600 !important"}})),formatDate:r=>new Date(r).toLocaleDateString("fr-FR"),getStatusBadge:r=>({class:r?o.success:o.danger,text:r?"Actif":"Inactif"})}};function tt(){const m="global-bootstrap-toast-container";let o=null;function n(){o=document.getElementById(m),o||(o=document.createElement("div"),o.id=m,o.className="position-fixed bottom-0 end-0 p-3",o.style.zIndex="9999",document.body.appendChild(o))}function p({title:b,message:g,icon:s,delay:v=4e3}){n();const y=`toast-${Date.now()}`,r=`
      <div id="${y}" class="toast fade hide" data-delay="${v}" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          ${s?`<i class="${s} me-2"></i>`:""}
          <strong class="me-auto">${b}</strong>
          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">${g}</div>
      </div>
    `;o.insertAdjacentHTML("beforeend",r);const c=document.getElementById(y);new window.bootstrap.Toast(c).show(),c==null||c.addEventListener("hidden.bs.toast",()=>c.remove())}return U(()=>{}),{show:p}}const et={class:"btn-print print:hidden fixed top-64 z-50 flex gap-2"},st={key:0,class:"pdf-document bg-gray-100 min-h-screen print:bg-white print:min-h-0 print:block pt-20"},at={class:"pdf-page bg-white mx-auto shadow-lg print:shadow-none"},ot={class:"pdf-header border-b-2 border-gray-200 mb-5"},nt={class:""},rt={class:"border-b pb-3"},lt={class:"flex items-center gap-4 mb-4 justify-between"},it={class:"text-right text-xl font-bold text-gray-950"},dt={class:"mb-2"},ct={class:"text-base font-bold"},ut={class:"text-base font-bold"},pt={class:"mb-5 pt-3"},bt={class:""},ft={key:0,class:"mb-2"},mt={key:1},gt={class:"text-base font-medium"},yt={class:"border-t pt-3"},_t={class:"w-full border-collapse text-lg text-gray-900 font-bold"},xt={class:"border-b"},vt={class:"pb-4 text-right"},ht={class:"border-b"},wt={class:"py-4 text-right"},St={class:"border-b"},Ct={class:"py-4 font-bold"},kt={class:"py-4 text-right"},Dt={key:0,class:"border-b"},Bt={class:"py-4 text-right"},It={key:1,class:"border-b"},Tt={class:"py-4 text-right"},Ft={key:2,class:"border-b"},Ot={class:"py-4 text-right"},At={key:3,class:"border-b"},Rt={class:"py-4 text-right"},Mt={key:4,class:"border-b"},$t={class:"py-4 text-right"},Nt={key:5,class:"border-b"},Ht={class:"py-4 text-right"},Lt={key:6,class:"border-b"},Et={class:"py-4 text-right"},Vt={class:"border-t-2 border-gray-700 font-bold"},Pt={class:"py-4 text-right"},Ut={class:"mt-5 text-right"},zt={class:"text-2xl font-extrabold text-green-700"},jt={class:"pdf-footer text-center text-gray-500 text-sm pt-4"},Qt=R({__name:"OperatorSalaryDetailsView",setup(m){const o=z(C.operatorsSalary.details),n=j(),p=tt(),b=o.params.id,{processing:g}=F(),s=Q(null),{findOperatorSalary:v}=F(),{operators:y}=G(),r=u=>y.value.find(e=>e.id===u)||null,c=async()=>{const u=await v(b);u?s.value=new K(u.interface):(p.show({title:"Erreur",message:"Bulletin de salaire non trouvé",icon:"error"}),n.push({name:C.operatorsSalary.list}))},{icons:k}=Z(),$={...k,...{eye:"ri-eye-line",back:"ri-arrow-left-line",user:"ri-user-line",status:"ri-checkbox-circle-line",tracking:"ri-time-line",star:"ri-star-line",comment:"ri-chat-3-line",target:"ri-focus-3-line",error:"ri-error-warning-line",warning:"ri-alert-line"}},N=u=>w.fromISO(u).toLocaleString(w.DATE_SHORT),H=u=>w.fromISO(u).toLocaleString(w.DATETIME_SHORT),L=new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0});function l(u){return L.format(u).replace("XOF","FCFA")}const E=()=>{n.push({name:C.operatorsSalary.list})},V=()=>{window.print()};return W(()=>{c()}),(u,e)=>{var D,B,I;return d(),i(M,null,[t("div",et,[x(T,{type:"button",variant:"outlined",onClick:E,disabled:h(g)},{default:S(()=>[t("i",{class:X($.back)},null,2),e[0]||(e[0]=t("span",{class:"ml-1"},"Retour",-1))]),_:1},8,["disabled"]),x(T,{type:"button",variant:"flat",color:"primary",onClick:V},{default:S(()=>[...e[1]||(e[1]=[t("i",{class:"ri-printer-line"},null,-1),t("span",{class:"ml-1"},"Imprimer",-1)])]),_:1})]),!h(g)&&s.value?(d(),i("div",st,[t("div",at,[t("div",ot,[t("div",nt,[t("div",null,[e[23]||(e[23]=t("h1",{class:"text-4xl text-center font-bold text-gray-900 mb-5"}," Bulletin de salaire ",-1)),t("section",rt,[t("div",lt,[e[6]||(e[6]=t("div",null,[t("h2",{class:"text-2xl mb-0 font-extrabold text-green-700 font-[Quicksand, sans-serif]"},"TEA"),t("p",{class:"text-xs font-extrabold text-green-700 font-[Quicksand, sans-serif]"},"Services")],-1)),t("div",it,[t("p",dt,[e[2]||(e[2]=t("span",{class:"text-lg font-bold"},"Date d’émission :",-1)),e[3]||(e[3]=_()),t("span",ct,a(N(new Date().toISOString())),1)]),t("p",null,[e[4]||(e[4]=t("span",{class:"text-lg font-bold"},"Salaire du mois :",-1)),e[5]||(e[5]=_()),t("span",ut,a(h(A)(s.value.date).month)+" "+a(h(A)(s.value.date).year),1)])])]),e[7]||(e[7]=Y('<div data-v-4504224d><p class="mb-2" data-v-4504224d><span class="text-lg font-bold" data-v-4504224d>IFU :</span> <span class="text-base font-bold text-gray-950" data-v-4504224d>0202112432071</span></p><p class="mb-2" data-v-4504224d><span class="text-lg font-bold" data-v-4504224d>RCCM :</span> <span class="text-base font-bold text-gray-950" data-v-4504224d>COTONOU N° RB/ABC/24 A 116906</span></p></div>',1))]),t("section",pt,[e[11]||(e[11]=t("h2",{class:"text-2xl font-bold text-green-700 mb-2 text-center"},"Informations de l’opérateur",-1)),t("div",bt,[s.value.operator_id?(d(),i("p",ft,[e[8]||(e[8]=t("span",{class:"text-lg font-bold"},"Nom et Prénoms:",-1)),_(" "+a((D=r(s.value.operator_id))==null?void 0:D.first_name)+" "+a((B=r(s.value.operator_id))==null?void 0:B.last_name),1)])):f("",!0),s.value.operator_id?(d(),i("p",mt,[e[9]||(e[9]=t("span",{class:"text-lg font-bold"},"Téléphone :",-1)),e[10]||(e[10]=_()),t("span",gt,a((I=r(s.value.operator_id))==null?void 0:I.phone),1)])):f("",!0)])]),t("section",yt,[e[22]||(e[22]=t("h2",{class:"text-2xl font-bold text-green-700 mb-3 text-center"},"Détails du calcul",-1)),t("table",_t,[t("tbody",null,[t("tr",xt,[e[12]||(e[12]=t("td",{class:"pb-4 font-bold"},"Chiffre d’affaire TTC",-1)),t("td",vt,a(l(s.value.chiffreAffaireMensuelttc)),1)]),t("tr",ht,[e[13]||(e[13]=t("td",{class:"py-4 font-bold"},"Chiffre d’affaire HT",-1)),t("td",wt,a(l(s.value.chiffreAffaireHorsTaxe)),1)]),t("tr",St,[t("td",Ct,"Commission brute ("+a(s.value.percentCommissionBrute)+"%)",1),t("td",kt,a(l(s.value.commissionBrute)),1)]),s.value.aib?(d(),i("tr",Dt,[e[14]||(e[14]=t("td",{class:"py-4 font-bold"},"AIB",-1)),t("td",Bt,a(l(s.value.aib)),1)])):f("",!0),s.value.fel?(d(),i("tr",It,[e[15]||(e[15]=t("td",{class:"py-4 font-bold"},"Frais d'entretien LNB",-1)),t("td",Tt,a(l(s.value.fel)),1)])):f("",!0),s.value.dette?(d(),i("tr",Ft,[e[16]||(e[16]=t("td",{class:"py-4 font-bold"},"Dette",-1)),t("td",Ot,a(l(s.value.dette)),1)])):f("",!0),s.value.penalite?(d(),i("tr",At,[e[17]||(e[17]=t("td",{class:"py-4 font-bold"},"Pénalité",-1)),t("td",Rt,a(l(s.value.penalite)),1)])):f("",!0),s.value.remboursement?(d(),i("tr",Mt,[e[18]||(e[18]=t("td",{class:"py-4 font-bold"},"Remboursement",-1)),t("td",$t,a(l(s.value.remboursement)),1)])):f("",!0),s.value.ecart?(d(),i("tr",Nt,[e[19]||(e[19]=t("td",{class:"py-4 font-bold"},"Écart",-1)),t("td",Ht,a(l(s.value.ecart)),1)])):f("",!0),s.value.calculatedFraisMomo?(d(),i("tr",Lt,[e[20]||(e[20]=t("td",{class:"py-4 font-bold"},"Frais MoMo",-1)),t("td",Et,a(l(s.value.calculatedFraisMomo)),1)])):f("",!0),t("tr",Vt,[e[21]||(e[21]=t("td",{class:"py-4"},"Total des prélèvements",-1)),t("td",Pt,a(l(s.value.totalPrelevements)),1)])])])]),t("section",Ut,[t("h2",zt," Salaire : "+a(l(s.value.salaireBrut)),1)])])])]),t("div",jt,[t("p",null," Page 1/1 - Bulletin de salaire généré le "+a(H(new Date().toISOString())),1)])]),e[24]||(e[24]=t("div",{class:"print:break-before-page"},null,-1))])):f("",!0)],64)}}}),Wt=q(Qt,[["__scopeId","data-v-4504224d"]]),Xt={"aria-label":"breadcrumb"},Yt={class:"breadcrumb breadcrumb-alt"},qt={class:"breadcrumb-item","aria-current":"page"},Jt={class:"content"},Gt="Détails du salaire d'un opérateur",Kt="Consulter les détails complets du salaire d'un opérateur.",Zt=R({__name:"[id]",setup(m){return(o,n)=>{const p=J("RouterLink"),b=P;return d(),i(M,null,[x(b,{title:Gt,subtitle:Kt},{extra:S(()=>[t("nav",Xt,[t("ol",Yt,[n[1]||(n[1]=t("li",{class:"breadcrumb-item","aria-current":"page"},"Salaire d'un opérateur",-1)),t("li",qt,[x(p,{to:"/operators-salary"},{default:S(()=>[...n[0]||(n[0]=[_(" Liste des salaires de l'opérateur",-1)])]),_:1})]),n[2]||(n[2]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Détails de la fiche de paye ",-1))])])]),_:1}),t("div",Jt,[x(Wt)])],64)}}});typeof O=="function"&&O(Zt);export{Zt as default};
