import{_ as V}from"./BasePageHeading.vue_vue_type_script_setup_true_lang-D3hGS5P4.js";import{_ as w}from"./OperatorForm.vue_vue_type_script_setup_true_lang-DfyGOe3Q.js";import{_ as y}from"./BaseBlock.vue_vue_type_script_setup_true_lang-BhfpUZf_.js";import{d as _,a3 as F,k as l,f as B,o as f,w as c,b as o,h as i,i as u,n as C,a4 as E,a0 as U,a2 as $,q as L,a as j,g as N,F as S}from"./index-djH96c7W.js";import{A as T,U as R}from"./api_route-BfCuro4K.js";import{u as q}from"./use_operator_actions-DfzruNlO.js";import{f as z}from"./chunk-TVFJBHBT-BUrEn1b-.js";import{b as p}from"./route-block-B_A1xBdJ.js";import"./index-C-RzZ9jy.js";import"./use_machine_actions-JCCI023B.js";import"./machines-DgIDqdM-.js";import"./VRow-DOGGYPzI.js";import"./createSimpleFunctional-CGAgNBGN.js";import"./VInput-CtsUFMyD.js";import"./index-BQUvywfj.js";import"./VTextField-BiIaNMKF.js";import"./VAutocomplete-DEo5Cp29.js";import"./VSelect-D7Z0k7d_.js";import"./VMenu-C6zDN-ie.js";import"./VAvatar-DCqiVCq3.js";import"./VChip-CI_Lgiys.js";const D={class:"pb-8"},d="Ajouter un opérateur",H="Ajouter",I="fa fa-plus-circle",P=_({__name:"OperatorAddView",setup(b){const s=F("operatorAddView"),e=l({first_name:"",last_name:"",email:"",phone:"",machine_id:""}),r=l({first_name:[],last_name:[],email:[],phone:[],machine_id:[]}),n=l(null),{processing:m,createOperator:g}=q(),v=a=>{r.value.first_name=a.data.first_name||[],r.value.last_name=a.data.last_name||[],r.value.email=a.data.email||[],r.value.phone=a.data.phone||[],r.value.machine_id=a.data.machine_id||[]},h=async a=>{s.info("Création de l'opérateur",a);const t=await g(a);return t instanceof T?(t instanceof R?v(t):($.error(t.message),s.error("Erreur lors de la création de l'opérateur",t)),n.value={type:"danger",id:z.string.uuid(),title:"Erreur",message:t.message},!1):(s.info("Opérateur créé avec succès",t),!0)},A=()=>{r.value={first_name:[],last_name:[],email:[],phone:[],machine_id:[]},n.value=null},O=async()=>{A(),s.info("Soumission du formulaire d'opérateur",e.value),await h({...e.value,phone:E.removeWhitespace(e.value.phone)})&&U.push("/operators")};return(a,t)=>{const k=w;return f(),B(y,{title:d,class:C(["block-mode-loading-oneui",{"block-mode-loading":u(m)}])},{default:c(()=>[o("div",D,[i(k,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=x=>e.value=x),loading:u(m),errors:r.value,alert:n.value,"action-description":d,"action-text":H,"action-icon":I,onSubmit:O},null,8,["modelValue","loading","errors","alert"])])]),_:1},8,["class"])}}}),W={"aria-label":"breadcrumb"},G={class:"breadcrumb breadcrumb-alt"},J={class:"breadcrumb-item","aria-current":"page"},K={class:"content"},M="Formulaire des Opérateurs",Q="Ajouter un Opérateurs.",X=_({__name:"add",setup(b){return(s,e)=>{const r=L("RouterLink"),n=V;return f(),j(S,null,[i(n,{title:M,subtitle:Q},{extra:c(()=>[o("nav",W,[o("ol",G,[e[1]||(e[1]=o("li",{class:"breadcrumb-item","aria-current":"page"},"Opérateurs",-1)),o("li",J,[i(r,{to:"/operators"},{default:c(()=>[...e[0]||(e[0]=[N(" Liste des Opérateurs",-1)])]),_:1})]),e[2]||(e[2]=o("li",{class:"breadcrumb-item active","aria-current":"page"},"Formulaire des Opérateurs",-1))])])]),_:1}),o("div",K,[i(P)])],64)}}});typeof p=="function"&&p(X);export{X as default};
